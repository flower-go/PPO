<!DOCTYPE html>
<html lang="en">
<head>
    <title>Population training - method comaprison</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-white.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-dark-green.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-dark-grey.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link href='https://fonts.googleapis.com/css?family=Roboto Condensed' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        .dot {
          height: 14px;
          width: 14px;
          background-color: #bbb;
          border-radius: 50%;
          display: inline-block;}

        .w3-card {
            display: inline-block;}


        body, html {height: 100%;}
        body,h1,h2,h3,h4,h5,h6 {font-family: "Roboto", sans-serif}
        h1 {font-family: 'Roboto Condensed'; font-weight:100;}
        .menu {display: none}
        table, th, td {
  border: 0.3px solid black;
}

.nostack{
    color: orange
}

.tuple{
    color: blue
}

.channel{
    color:pink
}

    </style>
</head>

<body>
<table class="w3-table">
<tr>
<td>rank scale colors</td>
{% for i in range(0,9) %}
    <td class="w3-{{ color_range[i] }}">{{ i }}</td>
{% endfor %}
</tr>
</table>

<div class="container">
<h2 class="w3-padding" > Average rank according to 15th and 30th quantile and best of two last agents vs. 4. - 12. agent </h2>
{% for type,values in input_dict.items() %}
<div class="w3-cell w3-padding">
<br>
<table class="w3-table w3-tiny">
<tr><td colspan="10">Table for {{type}}</td></tr>
<tr><td colspan="10">Avg rank (lower is better) of POP methods</td></tr>
<tr>
{% for exp in exp_names %}
        <th>{{ exp }}</th>
    {% endfor %}

</tr>
<tr>

{% for a in values["avg_rank"] %}
<td class="w3-{{ color_range[values["sorted_avg_rank"][loop.index0]] }}"> {{ a }}</td>
{% endfor %}
</tr>
</table>
</div>
{% endfor %}
</div>



<div class="container">
<h2 class="w3-padding">Average rank by stacking type</h2>
{% for b in bests %}
<div class="w3-cell w3-padding">
<table class="w3-table w3-tiny">
    <th colspan="10">{{ b }}</th>
    <tr><td></td>
         {% for exp in exp_names %}
            <th>{{ exp }}</th>
        {% endfor %}
    </tr>

    {% for stack in stacking %}
    <tr>
        <td>{{ stack }}</td>
            {% for a in stack_res[stack][b][2] %}
                <td class="w3-{{ color_range[stack_res[stack][b][5][loop.index0]] }}"> {{ a }}</td>
            {% endfor %}
    </tr>
    {% endfor %}
</table>
</div>
{% endfor %}
</div>

{% for s in stacking %}
<div class="container">
<h2 class="w3-padding">map groups  -- {{ s }}</h2>
{% for b in group_best_list %}
<div class="w3-cell w3-padding">
<table class="w3-table w3-tiny">
    <th colspan="10">{{ b }}</th>
    <tr><td></td>
         {% for exp in exp_names %}
            <th>{{ exp }}</th>
        {% endfor %}
    </tr>

    {% for group_name in group_names %}
    <tr>
        <td>{{ group_name }}</td>
            {% for a in group_res[s][group_name][b][2] %}
                <td class="w3-{{ color_range[group_res[s][group_name][b][5][loop.index0]] }}"> {{ a }}</td>
            {% endfor %}
    </tr>
    {% endfor %}
</table>
</div>
{% endfor %}
</div>
{% endfor %}

<div class="container">
<h2 class="w3-padding">Average rank by agent order</h2>
{% for b in ['all'] %}
<div class="w3-cell w3-padding">
<table class="w3-table w3-tiny">
    <th colspan="10">{{ b }}</th>
    <tr><td></td>
         {% for exp in exp_names %}
            <th>{{ exp }}</th>
        {% endfor %}
    </tr>

    {% for i in range(3,12) %}
    <tr>
        <td>{{ i }}</td>
            {% for a in ord_res[i][b][2] %}
                <td class="w3-{{ color_range[ord_res[i][b][5][loop.index0]] }}"> {{ a }}</td>
            {% endfor %}
    </tr>
    {% endfor %}
</table>
</div>
{% endfor %}
</div>

<div class="container">
<h2 class="w3-padding">Average rank by agent order and stacking</h2>
{% for s in stacking %}
{% for b in ['all'] %}
<div class="w3-cell w3-padding">
<table class="w3-table w3-tiny">
<th colspan="10">{{ s }}</th>
    <th colspan="10">{{ b }}</th>
    <tr><td></td>
         {% for exp in exp_names %}
            <th>{{ exp }}</th>
        {% endfor %}
    </tr>

    {% for i in range(3,12) %}
    <tr>
        <td>{{ i }}</td>
            {% for a in ord_res_stack[s][i][b][2] %}
                <td class="w3-{{ color_range[ord_res_stack[s][i][b][5][loop.index0]] }}"> {{ a }}</td>
            {% endfor %}
    </tr>
    {% endfor %}
</table>
</div>
{% endfor %}
{% endfor %}
</div>






<div class="container">
{% for type,values in input_dict.items() %}
{% set outer_loop = loop %}
<div class="w3-cell w3-padding">
<br>
<table class="w3-table w3-tiny">
<tr><td colspan="10">Table for {{type}}</td></tr>
<tr><td colspan="10">Avg rank (lower is better) of POP methods</td></tr>
<tr>
{% if outer_loop.index0 < 1 %}
<td></td>
{% endif %}
{% for a in values["avg_rank"] %}
<td class="w3-{{ color_range[values["sorted_avg_rank"][loop.index0]] }}"> {{ a }}</td>
{% endfor %}
</tr>

<tr><td colspan="10">POP by layouts </td></tr>
<tr>
{% if outer_loop.index0 < 1 %}
<td></td>
{% endif %}
{% for i in exp_names %}
    <td>{{ i }}</td>
{% endfor %}
</tr>
{% for row in values["rank_mat"]%}
<tr>
{% if outer_loop.index0 < 1 %}
    <td>{{ names[loop.index0] }}</td>
{% endif %}
{% for num in row %}
    <td class="w3-{{ color_range[num-1] }}">
        {{ num }}
    </td>
{% endfor %}
</tr>
{% endfor %}

</table>
</div>
{% endfor %}
</div>

</body>
</html>